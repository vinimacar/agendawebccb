<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Agenda de Serviços - CCB</title>

    <link href="https://cdn.jsdelivr.net/npm/bootswatch@5.3.0/dist/lux/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #34495e;
            --accent-color: #3498db;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
            --info-color: #2980b9;
            --light-bg: #f5f6fa;
            --card-bg: #ffffff;
        }

        body {
            background-color: var(--light-bg);
            font-family: 'Inter', sans-serif;
        }

        .app-header {
            background-color: var(--card-bg);
            padding: 2rem;
            text-align: center;
            border-bottom: 1px solid #e1e8ef;
            margin-bottom: 2rem;
        }

        .app-title {
            font-size: 2rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            font-family: 'Poppins', sans-serif;
        }

        .service-card {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
            transition: transform 0.2s, box-shadow 0.2s;
            cursor: pointer;
        }

        .service-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .service-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .service-title i {
            margin-right: 0.5rem;
            font-size: 1.4rem;
        }

        .service-date {
            color: var(--secondary-color);
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
        }

        .service-location {
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .badge {
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-weight: 500;
        }

        .back-button {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            padding: 1rem;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .filter-section {
            background: var(--card-bg);
            padding: 1rem;
            border-radius: 12px;
            margin-bottom: 2rem;
        }

        .month-selector {
            max-width: 200px;
        }

        .add-service-btn {
            position: fixed;
            bottom: 2rem;
            right: 6rem;
            padding: 1rem;
            border-radius: 50%;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transition: transform 0.2s, box-shadow 0.2s;
            z-index: 1000;
        }

        .add-service-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
        }

        .export-btn {
            position: fixed;
            bottom: 2rem;
            right: 10rem;
            padding: 1rem;
            border-radius: 50%;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .service-item {
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            background-color: #f8f9fa;
            transition: background-color 0.2s;
        }

        .service-item:hover {
            background-color: #e9ecef;
        }

        .modal-header {
            background-color: var(--primary-color);
            color: white;
        }

        .modal-title {
            font-family: 'Poppins', sans-serif;
        }

        .toast-container {
            position: fixed;
            bottom: 1rem;
            right: 1rem;
            z-index: 1050;
        }
    </style>
</head>
<body>
    <header class="app-header">
        <h1 class="app-title">AGENDA DE SERVIÇOS</h1>
        <div class="text-muted mb-3">Administração de Ituiutaba-MG</div>
        <div class="filter-section">
            <div class="row align-items-center justify-content-center">
                <div class="col-auto">
                    <select class="form-select month-selector" id="monthSelector">
                        <option value="6">Junho/2025</option>
                        <option value="7">Julho/2025</option>
                        <option value="8">Agosto/2025</option>
                    </select>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <div class="service-card" onclick="mostrarDetalhesServico('BATISMOS')">
                    <div class="service-title">
                        <div>
                            <i class="bi bi-water text-primary"></i>
                            BATISMOS
                        </div>
                        <span class="badge bg-primary" id="batismos-count">0</span>
                    </div>
                    <div id="batismos-list">
                        <!-- Será preenchido via JavaScript -->
                    </div>
                </div>

                <div class="service-card" onclick="mostrarDetalhesServico('SANTAS-CEIAS')">
                    <div class="service-title">
                        <div>
                            <i class="bi bi-cup-hot text-danger"></i>
                            SANTAS-CEIAS
                        </div>
                        <span class="badge bg-danger" id="santas-ceias-count">0</span>
                    </div>
                    <div id="santas-ceias-list">
                        <!-- Será preenchido via JavaScript -->
                    </div>
                </div>

                <div class="service-card" onclick="mostrarDetalhesServico('REUNIÃO PARA MOCIDADE')">
                    <div class="service-title">
                        <div>
                            <i class="bi bi-people-fill text-success"></i>
                            REUNIÃO PARA MOCIDADE
                        </div>
                        <span class="badge bg-success" id="mocidade-count">0</span>
                    </div>
                    <div id="mocidade-list">
                        <!-- Será preenchido via JavaScript -->
                    </div>
                </div>

                <div class="service-card" onclick="mostrarDetalhesServico('ENSAIOS REGIONAIS')">
                    <div class="service-title">
                        <div>
                            <i class="bi bi-music-note-list text-warning"></i>
                            ENSAIOS REGIONAIS
                        </div>
                        <span class="badge bg-warning" id="ensaios-regionais-count">0</span>
                    </div>
                    <div id="ensaios-regionais-list">
                        <!-- Será preenchido via JavaScript -->
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="service-card" onclick="mostrarDetalhesServico('ENSAIOS LOCAIS')">
                    <div class="service-title">
                        <div>
                            <i class="bi bi-music-note text-info"></i>
                            ENSAIOS LOCAIS
                        </div>
                        <span class="badge bg-info" id="ensaios-locais-count">0</span>
                    </div>
                    <div id="ensaios-locais-list">
                        <!-- Será preenchido via JavaScript -->
                    </div>
                </div>

                <div class="service-card" onclick="mostrarDetalhesServico('REUNIÃO DE CONSELHO DA MOCIDADE')">
                    <div class="service-title">
                        <div>
                            <i class="bi bi-people text-primary"></i>
                            REUNIÃO DE CONSELHO DA MOCIDADE
                        </div>
                        <span class="badge bg-primary" id="conselho-mocidade-count">0</span>
                    </div>
                    <div id="conselho-mocidade-list">
                        <!-- Será preenchido via JavaScript -->
                    </div>
                </div>

                <div class="service-card" onclick="mostrarDetalhesServico('CULTOS PARA JOVENS')">
                    <div class="service-title">
                        <div>
                            <i class="bi bi-person-heart text-danger"></i>
                            CULTOS PARA JOVENS
                        </div>
                        <span class="badge bg-danger" id="cultos-jovens-count">0</span>
                    </div>
                    <div id="cultos-jovens-list">
                        <!-- Será preenchido via JavaScript -->
                    </div>
                </div>

                <div class="service-card" onclick="mostrarDetalhesServico('REUNIÃO DA OBRA DA PIEDADE')">
                    <div class="service-title">
                        <div>
                            <i class="bi bi-heart-fill text-success"></i>
                            REUNIÃO DA OBRA DA PIEDADE
                        </div>
                        <span class="badge bg-success" id="obra-piedade-count">0</span>
                    </div>
                    <div id="obra-piedade-list">
                        <!-- Será preenchido via JavaScript -->
                    </div>
                </div>

                <div class="service-card" onclick="mostrarDetalhesServico('EVANGELIZAÇÃO')">
                    <div class="service-title">
                        <div>
                            <i class="bi bi-megaphone text-warning"></i>
                            EVANGELIZAÇÃO
                        </div>
                        <span class="badge bg-warning" id="evangelizacao-count">0</span>
                    </div>
                    <div id="evangelizacao-list">
                        <!-- Será preenchido via JavaScript -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Cadastro de Serviço -->
    <div class="modal fade" id="modalServico" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">
                        <i class="bi bi-calendar-plus me-2"></i>
                        Cadastrar Serviço
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
                </div>
                <div class="modal-body">
                    <form id="formServico">
                        <div class="mb-3">
                            <label class="form-label">Tipo de Serviço</label>
                            <select class="form-select" id="tipoServico" required>
                                <option value="">Selecione o tipo de serviço</option>
                                <option value="BATISMOS">BATISMOS</option>
                                <option value="SANTAS-CEIAS">SANTAS-CEIAS</option>
                                <option value="REUNIÃO PARA MOCIDADE">REUNIÃO PARA MOCIDADE</option>
                                <option value="ENSAIOS REGIONAIS">ENSAIOS REGIONAIS</option>
                                <option value="ENSAIOS LOCAIS">ENSAIOS LOCAIS</option>
                                <option value="REUNIÃO DE CONSELHO DA MOCIDADE">REUNIÃO DE CONSELHO DA MOCIDADE</option>
                                <option value="CULTOS PARA JOVENS">CULTOS PARA JOVENS</option>
                                <option value="REUNIÃO DA OBRA DA PIEDADE">REUNIÃO DA OBRA DA PIEDADE</option>
                                <option value="EVANGELIZAÇÃO">EVANGELIZAÇÃO</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Data</label>
                            <input type="date" class="form-control" id="dataServico" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Local</label>
                            <input type="text" class="form-control" id="localServico" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Status</label>
                            <select class="form-select" id="statusServico" required>
                                <option value="Confirmado">Confirmado</option>
                                <option value="Pendente">Pendente</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Observações</label>
                            <textarea class="form-control" id="observacoesServico" rows="3"></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" onclick="salvarServico()">Salvar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Detalhes do Serviço -->
    <div class="modal fade" id="modalDetalhes" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="detalhesTitulo"></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
                </div>
                <div class="modal-body">
                    <div id="detalhesConteudo"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
                    <button type="button" class="btn btn-success" onclick="exportarRelatorio()">
                        <i class="bi bi-file-earmark-pdf me-2"></i>Exportar Relatório
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="toast-container"></div>

    <a href="index.html" class="btn btn-primary back-button">
        <i class="bi bi-arrow-left"></i>
    </a>

    <button class="btn btn-success add-service-btn" onclick="abrirModalCadastro()" data-bs-toggle="tooltip" data-bs-placement="left" title="Agendar Novo Serviço">
        <i class="bi bi-plus-lg"></i>
    </button>

    <button class="btn btn-info export-btn" onclick="exportarTodosServicos()">
        <i class="bi bi-file-earmark-pdf"></i>
    </button>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.7.1/firebase-app.js";
        import { getDatabase, ref, onValue, push, set, serverTimestamp, remove, get } from "https://www.gstatic.com/firebasejs/11.7.1/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDAZekCEenSVQuYPB2jGqdXc3sllfDqg-M",
            authDomain: "agendawebccb.firebaseapp.com",
            databaseURL: "https://agendawebccb-default-rtdb.firebaseio.com",
            projectId: "agendawebccb",
            storageBucket: "agendawebccb.firebasestorage.app",
            messagingSenderId: "1002090805726",
            appId: "1:1002090805726:web:d9aab35124d174e85d454f"
        };

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);

        window.db = db;
        window.ref = ref;
        window.push = push;
        window.set = set;
        window.remove = remove;
        window.get = get;
        window.serverTimestamp = serverTimestamp;

        // Função para formatar a data
        window.formatarData = function(data) {
            const dataObj = new Date(data);
            return dataObj.toLocaleDateString('pt-BR', {
                weekday: 'long',
                day: '2-digit',
                month: '2-digit',
                year: 'numeric'
            });
        }

        // Função para criar um item de serviço
        window.criarItemServico = function(servico) {
            return `
                <div class="service-item" data-id="${servico.id || ''}">
                    <div class="service-date mb-2">
                        <i class="bi bi-calendar3 me-2"></i>${formatarData(servico.data)}
                    </div>
                    <div class="service-location mb-2">
                        <i class="bi bi-geo-alt me-2"></i>${servico.local}
                    </div>
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="badge bg-${servico.status === 'Confirmado' ? 'success' : 'warning'} mb-2">
                            ${servico.status}
                        </div>
                        <div class="btn-group">
                            <button class="btn btn-sm btn-warning" onclick="editarServico('${servico.id}')">
                                <i class="bi bi-pencil"></i>
                            </button>
                            <button class="btn btn-sm btn-danger" onclick="excluirServico('${servico.id}')">
                                <i class="bi bi-trash"></i>
                            </button>
                        </div>
                    </div>
                    ${servico.observacoes ? `
                    <div class="service-obs mt-2">
                        <i class="bi bi-chat-text me-2"></i>${servico.observacoes}
                    </div>
                    ` : ''}
                </div>
            `;
        }

        // Carregar serviços do Firebase
        window.carregarServicos = function() {
            const servicosRef = ref(db, 'agendamento2');
            onValue(servicosRef, (snapshot) => {
                const servicos = snapshot.val() || {};
                
                // Limpar todas as listas
                document.querySelectorAll('[id$="-list"]').forEach(el => el.innerHTML = '');
                
                // Resetar contadores
                const tipos = [
                    'batismos', 'santas-ceias', 'mocidade', 'ensaios-regionais',
                    'ensaios-locais', 'conselho-mocidade', 'cultos-jovens',
                    'obra-piedade', 'evangelizacao'
                ];
                
                tipos.forEach(tipo => {
                    document.getElementById(`${tipo}-count`).textContent = '0';
                });

                // Filtrar por mês selecionado
                const mesSelecionado = document.getElementById('monthSelector').value;
                
                // Preencher cada tipo de serviço
                Object.entries(servicos).forEach(([id, servico]) => {
                    servico.id = id; // Adicionar ID ao objeto do serviço
                    const servicoData = new Date(servico.data);
                    if (servicoData.getMonth() + 1 === parseInt(mesSelecionado)) {
                        const elementId = servico.tipo.toLowerCase().replace(/\s+/g, '-') + '-list';
                        const countId = elementId.replace('-list', '-count');
                        const element = document.getElementById(elementId);
                        const countElement = document.getElementById(countId);
                        
                        if (element) {
                            element.innerHTML += criarItemServico(servico);
                            if (countElement) {
                                countElement.textContent = parseInt(countElement.textContent) + 1;
                            }
                        }
                    }
                });
            });
        }

        // Função para salvar serviço
        window.salvarServico = async function() {
            const tipo = document.getElementById('tipoServico').value;
            const data = document.getElementById('dataServico').value;
            const local = document.getElementById('localServico').value;
            const status = document.getElementById('statusServico').value;
            const observacoes = document.getElementById('observacoesServico').value;

            if (!tipo || !data || !local || !status) {
                mostrarToast('Preencha todos os campos obrigatórios', 'danger');
                return;
            }

            try {
                const servicosRef = ref(db, 'agendamento2');
                const novoServico = {
                    tipo,
                    data,
                    local,
                    status,
                    observacoes,
                    dataCadastro: serverTimestamp(),
                    ultimaAtualizacao: serverTimestamp()
                };

                await push(servicosRef, novoServico);
                modalServico.hide();
                mostrarToast('Serviço cadastrado com sucesso!', 'success');
                document.getElementById('formServico').reset();
            } catch (error) {
                console.error('Erro ao salvar:', error);
                mostrarToast('Erro ao cadastrar serviço: ' + error.message, 'danger');
            }
        }

        // Função para editar serviço
        window.editarServico = async function(id) {
            const servicoRef = ref(db, `agendamento2/${id}`);
            
            try {
                const snapshot = await get(servicoRef);
                const servico = snapshot.val();
                
                if (servico) {
                    document.getElementById('tipoServico').value = servico.tipo;
                    document.getElementById('dataServico').value = servico.data;
                    document.getElementById('localServico').value = servico.local;
                    document.getElementById('statusServico').value = servico.status;
                    document.getElementById('observacoesServico').value = servico.observacoes || '';
                    
                    // Armazenar ID para atualização
                    document.getElementById('formServico').dataset.editId = id;
                    
                    modalServico.show();
                }
            } catch (error) {
                console.error('Erro ao carregar serviço:', error);
                mostrarToast('Erro ao carregar serviço: ' + error.message, 'danger');
            }
        }

        // Função para excluir serviço
        window.excluirServico = async function(id) {
            if (confirm('Tem certeza que deseja excluir este serviço?')) {
                try {
                    const servicoRef = ref(db, `agendamento2/${id}`);
                    await remove(servicoRef);
                    mostrarToast('Serviço excluído com sucesso!', 'success');
                } catch (error) {
                    console.error('Erro ao excluir:', error);
                    mostrarToast('Erro ao excluir serviço: ' + error.message, 'danger');
                }
            }
        }

        // Inicializar
        window.addEventListener('DOMContentLoaded', () => {
            carregarServicos();
            document.getElementById('monthSelector').addEventListener('change', carregarServicos);
            
            // Listener para o formulário
            document.getElementById('formServico').addEventListener('submit', async (e) => {
                e.preventDefault();
                const editId = e.target.dataset.editId;
                
                if (editId) {
                    // Atualizar serviço existente
                    try {
                        const servicoRef = ref(db, `agendamento2/${editId}`);
                        const servico = {
                            tipo: document.getElementById('tipoServico').value,
                            data: document.getElementById('dataServico').value,
                            local: document.getElementById('localServico').value,
                            status: document.getElementById('statusServico').value,
                            observacoes: document.getElementById('observacoesServico').value,
                            ultimaAtualizacao: serverTimestamp()
                        };
                        
                        await set(servicoRef, servico);
                        modalServico.hide();
                        mostrarToast('Serviço atualizado com sucesso!', 'success');
                        e.target.dataset.editId = '';
                        e.target.reset();
                    } catch (error) {
                        console.error('Erro ao atualizar:', error);
                        mostrarToast('Erro ao atualizar serviço: ' + error.message, 'danger');
                    }
                } else {
                    // Criar novo serviço
                    await salvarServico();
                }
            });
        });
    </script>

    <script>
        // Definições globais
        const modalServico = new bootstrap.Modal(document.getElementById('modalServico'));
        const modalDetalhes = new bootstrap.Modal(document.getElementById('modalDetalhes'));

        function abrirModalCadastro() {
            document.getElementById('formServico').reset();
            document.getElementById('formServico').dataset.editId = '';
            modalServico.show();
        }

        function mostrarDetalhesServico(tipo) {
            const titulo = document.getElementById('detalhesTitulo');
            const conteudo = document.getElementById('detalhesConteudo');
            
            titulo.innerHTML = `<i class="bi bi-info-circle me-2"></i>${tipo}`;
            const lista = document.getElementById(`${tipo.toLowerCase().replace(/\s+/g, '-')}-list`).innerHTML;
            
            if (lista.trim()) {
                conteudo.innerHTML = lista;
            } else {
                conteudo.innerHTML = '<div class="alert alert-info">Nenhum serviço cadastrado para este tipo.</div>';
            }
            
            modalDetalhes.show();
        }

        function mostrarToast(mensagem, tipo) {
            const toastContainer = document.querySelector('.toast-container');
            const toast = document.createElement('div');
            toast.className = `toast align-items-center text-white bg-${tipo} border-0`;
            toast.setAttribute('role', 'alert');
            toast.setAttribute('aria-live', 'assertive');
            toast.setAttribute('aria-atomic', 'true');
            
            toast.innerHTML = `
                <div class="d-flex">
                    <div class="toast-body">
                        <i class="bi bi-info-circle me-2"></i>${mensagem}
                    </div>
                    <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
                </div>
            `;
            
            toastContainer.appendChild(toast);
            const bsToast = new bootstrap.Toast(toast);
            bsToast.show();
            
            toast.addEventListener('hidden.bs.toast', () => {
                toast.remove();
            });
        }

        function exportarRelatorio() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            const titulo = document.getElementById('detalhesTitulo').textContent;
            const conteudo = document.getElementById('detalhesConteudo').textContent;
            
            doc.setFont("helvetica", "bold");
            doc.setFontSize(16);
            doc.text(titulo, 20, 20);
            
            doc.setFont("helvetica", "normal");
            doc.setFontSize(12);
            
            const linhas = doc.splitTextToSize(conteudo, 170);
            doc.text(linhas, 20, 40);
            
            doc.save(`relatorio_${titulo.toLowerCase().replace(/\s+/g, '_')}.pdf`);
        }

        function exportarTodosServicos() {
            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();
            
            doc.setFont("helvetica", "bold");
            doc.setFontSize(16);
            doc.text("Relatório Completo de Serviços", 105, 20, { align: "center" });
            
            let yPos = 40;
            
            document.querySelectorAll('.service-card').forEach(card => {
                const titulo = card.querySelector('.service-title').textContent.trim();
                const conteudo = card.querySelector(`[id$="-list"]`).textContent.trim();
                
                if (yPos > 250) {
                    doc.addPage();
                    yPos = 20;
                }
                
                doc.setFont("helvetica", "bold");
                doc.setFontSize(14);
                doc.text(titulo, 20, yPos);
                yPos += 10;
                
                if (conteudo) {
                    doc.setFont("helvetica", "normal");
                    doc.setFontSize(12);
                    const linhas = doc.splitTextToSize(conteudo, 170);
                    doc.text(linhas, 20, yPos);
                    yPos += linhas.length * 7 + 10;
                } else {
                    doc.setFont("helvetica", "italic");
                    doc.setFontSize(12);
                    doc.text("Nenhum serviço cadastrado", 20, yPos);
                    yPos += 20;
                }
            });
            
            doc.save("relatorio_completo_servicos.pdf");
        }

        // Inicializar tooltips quando o DOM estiver carregado
        document.addEventListener('DOMContentLoaded', function() {
            var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
            var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl);
            });
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 
